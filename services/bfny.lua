---@diagnostic disable: param-type-mismatch
local frames = {{0,0,64,64},
{0,64,64,64},
{0,128,64,64},
{0,192,64,64},
{0,256,64,64},
{0,320,64,64},
{0,384,64,64},
{0,448,64,64},
{0,512,64,64},
{0,576,64,64},
{0,640,64,64},
{0,704,64,64},
{0,768,64,64},
{0,832,64,64},
{0,896,64,64},
{0,960,64,64},
{0,1024,64,64},
{0,1088,64,64},
{0,1152,64,64},
{64,0,64,64},
{128,0,64,64},
{192,0,64,64},
{256,0,64,64},
{320,0,64,64},
{384,0,64,64},
{448,0,64,64},
{512,0,64,64},
{576,0,64,64},
{640,0,64,64},
{704,0,64,64},
{768,0,64,64},
{832,0,64,64},
{896,0,64,64},
{960,0,64,64},
{1024,0,64,64},
{1088,0,64,64},
{1152,0,64,64},
{64,64,64,64},
{64,128,64,64},
{64,192,64,64},
{64,256,64,64},
{64,320,64,64},
{64,384,64,64},
{64,448,64,64},
{64,512,64,64},
{64,576,64,64},
{64,640,64,64},
{64,704,64,64},
{64,768,64,64},
{64,832,64,64},
{64,896,64,64},
{64,960,64,64},
{64,1024,64,64},
{64,1088,64,64},
{64,1152,64,64},
{128,64,64,64},
{192,64,64,64},
{256,64,64,64},
{320,64,64,64},
{384,64,64,64},
{448,64,64,64},
{512,64,64,64},
{576,64,64,64},
{640,64,64,64},
{704,64,64,64},
{768,64,64,64},
{832,64,64,64},
{896,64,64,64},
{960,64,64,64},
{1024,64,64,64},
{1088,64,64,64},
{1152,64,64,64},
{128,128,64,64},
{128,192,64,64},
{128,256,64,64},
{128,320,64,64},
{128,384,64,64},
{128,448,64,64},
{128,512,64,64},
{128,576,64,64},
{128,640,64,64},
{128,704,64,64},
{128,768,64,64},
{128,832,64,64},
{128,896,64,64},
{128,960,64,64},
{128,1024,64,64},
{128,1088,64,64},
{128,1152,64,64},
{192,128,64,64},
{256,128,64,64},
{320,128,64,64},
{384,128,64,64},
{448,128,64,64},
{512,128,64,64},
{576,128,64,64},
{640,128,64,64},
{704,128,64,64},
{768,128,64,64},
{832,128,64,64},
{896,128,64,64},
{960,128,64,64},
{1024,128,64,64},
{1088,128,64,64},
{1152,128,64,64},
{192,192,64,64},
{192,256,64,64},
{192,320,64,64},
{192,384,64,64},
{192,448,64,64},
{192,512,64,64},
{192,576,64,64},
{192,640,64,64},
{192,704,64,64},
{192,768,64,64},
{192,832,64,64},
{192,896,64,64},
{192,960,64,64},
{192,1024,64,64},
{192,1088,64,64},
{192,1152,64,64},
{256,192,64,64},
{320,192,64,64},
{384,192,64,64},
{448,192,64,64},
{512,192,64,64},
{576,192,64,64},
{640,192,64,64},
{704,192,64,64},
{768,192,64,64},
{832,192,64,64},
{896,192,64,64},
{960,192,64,64},
{1024,192,64,64},
{1088,192,64,64},
{1152,192,64,64},
{256,256,64,64},
{256,320,64,64},
{256,384,64,64},
{256,448,64,64},
{256,512,64,64},
{256,576,64,64},
{256,640,64,64},
{256,704,64,64},
{256,768,64,64},
{256,832,64,64},
{256,896,64,64},
{256,960,64,64},
{256,1024,64,64},
{256,1088,64,64},
{256,1152,64,64},
{320,256,64,64},
{384,256,64,64},
{448,256,64,64},
{512,256,64,64},
{576,256,64,64},
{640,256,64,64},
{704,256,64,64},
{768,256,64,64},
{832,256,64,64},
{896,256,64,64},
{960,256,64,64},
{1024,256,64,64},
{1088,256,64,64},
{1152,256,64,64},
{320,320,64,64},
{320,384,64,64},
{320,448,64,64},
{320,512,64,64},
{320,576,64,64},
{320,640,64,64},
{320,704,64,64},
{320,768,64,64},
{320,832,64,64},
{320,896,64,64},
{320,960,64,64},
{320,1024,64,64},
{320,1088,64,64},
{320,1152,64,64},
{384,320,64,64},
{448,320,64,64},
{512,320,64,64},
{576,320,64,64},
{640,320,64,64},
{704,320,64,64},
{768,320,64,64},
{832,320,64,64},
{896,320,64,64},
{960,320,64,64},
{1024,320,64,64},
{1088,320,64,64},
{1152,320,64,64},
{384,384,64,64},
{384,448,64,64},
{384,512,64,64},
{384,576,64,64},
{384,640,64,64},
{384,704,64,64},
{384,768,64,64},
{384,832,64,64},
{384,896,64,64},
{384,960,64,64},
{384,1024,64,64},
{384,1088,64,64},
{384,1152,64,64},
{448,384,64,64},
{512,384,64,64},
{576,384,64,64},
{640,384,64,64},
{704,384,64,64},
{768,384,64,64},
{832,384,64,64},
{896,384,64,64},
{960,384,64,64},
{1024,384,64,64},
{1088,384,64,64},
{1152,384,64,64},
{448,448,64,64},
{448,512,64,64},
{448,576,64,64},
{448,640,64,64},
{448,704,64,64},
{448,768,64,64},
{448,832,64,64},
{448,896,64,64},
{448,960,64,64},
{448,1024,64,64},
{448,1088,64,64},
{448,1152,64,64},
{512,448,64,64},
{576,448,64,64},
{640,448,64,64},
{704,448,64,64},
{768,448,64,64},
{832,448,64,64},
{896,448,64,64},
{960,448,64,64},
{1024,448,64,64},
{1088,448,64,64},
{1152,448,64,64},
{512,512,64,64},
{512,576,64,64},
{512,640,64,64},
{512,704,64,64},
{512,768,64,64},
{512,832,64,64},
{512,896,64,64},
{512,960,64,64},
{512,1024,64,64},
{512,1088,64,64},
{512,1152,64,64},
{576,512,64,64},
{640,512,64,64},
{704,512,64,64},
{768,512,64,64},
{832,512,64,64},
{896,512,64,64},
{960,512,64,64},
{1024,512,64,64},
{1088,512,64,64},
{1152,512,64,64},
{576,576,64,64},
{576,640,64,64},
{576,704,64,64},
{576,768,64,64},
{576,832,64,64},
{576,896,64,64},
{576,960,64,64},
{576,1024,64,64},
{576,1088,64,64},
{576,1152,64,64},
{640,576,64,64},
{704,576,64,64},
{768,576,64,64},
{832,576,64,64},
{896,576,64,64},
{960,576,64,64},
{1024,576,64,64},
{1088,576,64,64},
{1152,576,64,64},
{640,640,64,64},
{640,704,64,64},
{640,768,64,64},
{640,832,64,64},
{640,896,64,64},
{640,960,64,64},
{640,1024,64,64},
{640,1088,64,64},
{640,1152,64,64},
{704,640,64,64},
{768,640,64,64},
{832,640,64,64},
{896,640,64,64},
{960,640,64,64},
{1024,640,64,64},
{1088,640,64,64},
{1152,640,64,64},
{704,704,64,64},
{704,768,64,64},
{704,832,64,64},
{704,896,64,64},
{704,960,64,64},
{704,1024,64,64},
{704,1088,64,64},
{704,1152,64,64},
{768,704,64,64},
{832,704,64,64},
{896,704,64,64},
{960,704,64,64},
{1024,704,64,64},
{1088,704,64,64},
{1152,704,64,64},
{768,768,64,64},
{768,832,64,64},
{768,896,64,64},
{768,960,64,64},
{768,1024,64,64},
{768,1088,64,64},
{768,1152,64,64},
{832,768,64,64},
{896,768,64,64},
{960,768,64,64},
{1024,768,64,64},
{1088,768,64,64},
{1152,768,64,64},
{832,832,64,64},
{832,896,64,64},
{832,960,64,64},
{832,1024,64,64},
{832,1088,64,64},
{832,1152,64,64},
{896,832,64,64},
{960,832,64,64},
{1024,832,64,64},
{1088,832,64,64},
{1152,832,64,64},
{896,896,64,64},
{896,960,64,64},
{896,1024,64,64},
{896,1088,64,64},
{896,1152,64,64},
{960,896,64,64},
{1024,896,64,64},
{1088,896,64,64},
{1152,896,64,64},
{960,960,64,64},
{960,1024,64,64},
{960,1088,64,64}
}

local t = 1
local t2 = 2
local res = textures.bfny:getDimensions() 

models.textures.Portrait:setPrimaryRenderType("BLURRY")
models.textures.Portrait2:setPrimaryRenderType("BLURRY")

events.WORLD_RENDER:register(function (dy)
   if true then
      do
         local f = frames[math.floor(math.max(t,1))]
         local mat = matrices.mat3()
         mat:scale(f[4] / res.x / 2,f[4]/ res.y/ 2,1)
         mat:translate(f[1] / res.x / 2,f[2] / res.x / 2)
         models.textures.Portrait:setUVMatrix(mat)
      end
      do
         local f = frames[math.floor(math.max(t2,1))]
         local mat = matrices.mat3()
         mat:scale(f[4] / res.x / 2,f[4]/ res.y/ 2,1)
         mat:translate(f[1] / res.x / 2,f[2] / res.x / 2)
         models.textures.Portrait2:setUVMatrix(mat):setOpacity(t % 1)
      end
      t = ((t + 1) % #frames) + 0.2 - 1
      t2 = ((t2 + 1) % #frames) + 0.2 - 1
   end
end)